import{G as b,b as w,a as p,c as y}from"./init.9486183c.js";import{_ as I,A as c,r as a,o as _,c as f,w as o,e as r,f as i,y as k,p as v,k as V,b as S}from"./index.fcc527b7.js";const x=new b,C={data(){return{form:{email:"",password:""},rules:{email:[{required:!0,message:"Please enter your email address",trigger:"blur"},{type:"email",message:"Please enter a correct email address",trigger:"blur"}],password:[{required:!0,message:"Please enter your password",trigger:"blur"},{min:6,max:12,message:"The password length should be between 6 and 12 characters",trigger:"blur"}]}}},methods:{submit(){this.$refs["form-login"].validate(e=>{if(console.log(e),e)w(p,this.form.email,this.form.password).then(()=>{c.commit("setSignedIn",!0),this.$router.push("/home")}).catch(t=>{alert("invalid email or password! "+t)});else return!1})},handleSignInGoogle(){y(p,x).then(e=>{c.commit("setSignedIn",!0),this.$router.push("/home")}).catch(e=>{console.log("invalid email! "+e)})}}},P=e=>(v("data-v-67bbf240"),e=e(),V(),e),G=P(()=>S("h3",{class:"title"},"Login",-1));function q(e,t,L,N,s,d){const m=a("el-input"),l=a("el-form-item"),u=a("el-button"),g=a("router-link"),h=a("el-form");return _(),f(h,{ref:"form-login",class:"login-container",model:s.form,rules:s.rules},{default:o(()=>[G,r(l,{label:"Email",prop:"mail"},{default:o(()=>[r(m,{required:"",modelValue:s.form.email,"onUpdate:modelValue":t[0]||(t[0]=n=>s.form.email=n)},null,8,["modelValue"])]),_:1}),r(l,{label:"Password",prop:"password"},{default:o(()=>[r(m,{modelValue:s.form.password,"onUpdate:modelValue":t[1]||(t[1]=n=>s.form.password=n),type:"password",required:""},null,8,["modelValue"])]),_:1}),r(l,{style:{display:"flex","justify-content":"center"}},{default:o(()=>[r(u,{onClick:d.submit,type:"primary"},{default:o(()=>[i("Login")]),_:1},8,["onClick"])]),_:1}),r(l,{style:{display:"flex","justify-content":"right"}},{default:o(()=>[r(g,{class:"register-link",to:"/register"},{default:o(()=>[i("Register")]),_:1})]),_:1}),e.isSignedIn?k("",!0):(_(),f(l,{key:0,id:"GoogleSignIn",required:""},{default:o(()=>[r(u,{onClick:d.handleSignInGoogle,type:"danger"},{default:o(()=>[i(" Google")]),_:1},8,["onClick"])]),_:1}))]),_:1},8,["model","rules"])}var j=I(C,[["render",q],["__scopeId","data-v-67bbf240"]]);export{j as default};
